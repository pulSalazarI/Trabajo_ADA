<header class="header">
    <div class="container">
        <div class="logo">BASURINI</div>
        <nav>
            <ul class="nav-menu">
                <li class="nav-item"><a href="#" id="btn-inicio" class="nav-link">Inicio</a></li>
                <li class="nav-item"><a href="#" id="btn-mision" class="nav-link">Misión</a></li>
                <li class="nav-item"><a href="#" id="btn-vision" class="nav-link">Visión</a></li>
                <li class="nav-item"><a href="#" id="btn-historia" class="nav-link">Historia</a></li>
                <li class="nav-item">
                  <a href="#artwork" class="nav-link" id="btn-sesion-header"
                     {% raw %}{% endraw %}{% if request.path == '/' or 'bienvenida' in request.path|lower %}style="display:none"{% endif %}>
                     Iniciar Sesión
                  </a>
                </li>
            </ul>
        </nav>
    </div>
</header>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const btnSesion = document.getElementById('btn-sesion-header');
        if (btnSesion) {
            // Cambiar a "Cerrar sesión" si la sesión está iniciada
            if (sessionStorage.getItem('sesion_iniciada') === '1') {
                btnSesion.textContent = 'Cerrar sesión';
                btnSesion.href = '#cerrar';
                btnSesion.onclick = function(e) {
                    e.preventDefault();
                    sessionStorage.removeItem('sesion_iniciada');
                    // Redirigir a la página de bienvenida correctamente
                    window.location.href = '/';
                };
            } else {
                btnSesion.textContent = 'Iniciar Sesión';
                btnSesion.href = '#artwork';
                btnSesion.onclick = null;
            }
            // Ocultar el botón si ya está en la página de bienvenida
            const path = window.location.pathname.toLowerCase();
            if (path === '/' || path.includes('bienvenida')) {
                btnSesion.style.display = 'none';
            }
        }
    });
</script>
